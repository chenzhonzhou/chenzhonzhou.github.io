<!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"><script></script><meta name="theme-color" content="#222"><style>.pace .pace-progress{background:#1e92fb;height:3px}.pace .pace-progress-inner{box-shadow:0 0 10px #1e92fb,0 0 5px #1e92fb}.pace .pace-activity{border-top-color:#1e92fb;border-left-color:#1e92fb}</style><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="HGM141IpbHrSmnAmR6W_zE4bo9Z3f-yXLeHYT3bg1fk"><meta name="baidu-site-verification" content="code-5Ai1DA8e6T"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Linux,Cobbler,批量装机,"><link rel="alternate" href="/atom.xml" title="凡间的精灵" type="application/atom+xml"><meta name="description" content="1、Cobbler简介使用PXE批量部署时，有一个缺陷，即只能安装单一的操作系统（同一个版本，仅用一个kickstart文件）。但是在实际环境中，不同功能的服务器需要部署不同的环境，而cobbler正好满足了这一需求。cobbler基于python开发，是对PXE的二次封装，且提供了CLI和Web的管理形式，使得操作和管理更加简便。cobbler的实现与PXE类似，也需要tftp，httpd，dh"><meta name="keywords" content="Linux,Cobbler,批量装机"><meta property="og:type" content="article"><meta property="og:title" content="Cobbler批量装机"><meta property="og:url" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;index.html"><meta property="og:site_name" content="凡间的精灵"><meta property="og:description" content="1、Cobbler简介使用PXE批量部署时，有一个缺陷，即只能安装单一的操作系统（同一个版本，仅用一个kickstart文件）。但是在实际环境中，不同功能的服务器需要部署不同的环境，而cobbler正好满足了这一需求。cobbler基于python开发，是对PXE的二次封装，且提供了CLI和Web的管理形式，使得操作和管理更加简便。cobbler的实现与PXE类似，也需要tftp，httpd，dh"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%870.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%871.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%872.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%873.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%874.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%875.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%876.png"><meta property="og:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%877.png"><meta property="og:updated_time" content="2019-11-20T08:32:27.431Z"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http:&#x2F;&#x2F;chenzhonzhou.github.io&#x2F;2017&#x2F;01&#x2F;16&#x2F;cobbler-pi-liang-zhuang-ji&#x2F;%E5%9B%BE%E7%89%870.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"always",offset:12,b2t:!0,scrollpercent:!0,onmobile:!0},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://chenzhonzhou.github.io/2017/01/16/cobbler-pi-liang-zhuang-ji/"><title>Cobbler批量装机 | 凡间的精灵</title><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">凡间的精灵</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">凡尘落素一精灵</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i><br>站点地图</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://chenzhonzhou.github.io/2017/01/16/cobbler-pi-liang-zhuang-ji/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Zhongzhou Chen"><meta itemprop="description" content=""><meta itemprop="image" content="/images/chen.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="凡间的精灵"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Cobbler批量装机</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-01-16T15:18:19+08:00">2017-01-16</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%89%B9%E9%87%8F%E8%A3%85%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">批量装机</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%89%B9%E9%87%8F%E8%A3%85%E6%9C%BA/Cobbler/" itemprop="url" rel="index"><span itemprop="name">Cobbler</span></a></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">1.6k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">7</span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="1、Cobbler简介"><a href="#1、Cobbler简介" class="headerlink" title="1、Cobbler简介"></a>1、Cobbler简介</h2><p>使用<strong>PXE</strong>批量部署时，有一个缺陷，即只能安装单一的操作系统（同一个版本，仅用一个<strong>kickstart</strong>文件）。但是在实际环境中，不同功能的服务器需要部署不同的环境，而<strong>cobbler</strong>正好满足了这一需求。<strong>cobbler</strong>基于<strong>python</strong>开发，是对<strong>PXE</strong>的二次封装，且提供了<strong>CLI</strong>和<strong>Web</strong>的管理形式，使得操作和管理更加简便。<strong>cobbler</strong>的实现与<strong>PXE</strong>类似，也需要<strong>tftp</strong>，<strong>httpd</strong>，<strong>dhcp</strong>这些服务。使用<strong>yum</strong>即可完成<strong>cobbler</strong>的安装，在安装的同时也会自动安装<strong>tftp</strong>和<strong>httpd</strong>服务，<strong>dhcp</strong>服务需要自行安装。</p><p><strong>cobbler</strong>的部署非常简单，首先添加<strong>distro</strong>，或直接导入光盘镜像，然后为某一个<strong>distro</strong>添加<strong>kickstart</strong>文件，一个<strong>distro</strong>可有多个<strong>kickstart</strong>文件，以实现同一版本的操作系统部署多个不一样的环境。</p><h2 id="2、部署cobbler等服务"><a href="#2、部署cobbler等服务" class="headerlink" title="2、部署cobbler等服务"></a>2、部署cobbler等服务</h2><p><strong>实验环境：</strong>所有的服务均部署在同一台服务器上（192.168.3.10）</p><h3 id="2-1-安装cobbler"><a href="#2-1-安装cobbler" class="headerlink" title="2.1 安装cobbler"></a>2.1 安装cobbler</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# yum install cobbler</span><br></pre></td></tr></table></figure><p>这个过程会自动安装<strong>tftp</strong>，<strong>httpd</strong></p><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%870.png" alt="img"></p><h3 id="2-2-自行安装dhcp。"><a href="#2-2-自行安装dhcp。" class="headerlink" title="2.2 自行安装dhcp。"></a>2.2 自行安装dhcp。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# yum install dhcp</span><br></pre></td></tr></table></figure><p>tftp，httpd，dhcp，还包括DNS这些服务都可以由cobbler代为管理，也可以独立管理。这里都将这些服务设置为单独管理。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# vim /etc/cobbler/settings</span><br><span class="line"></span><br><span class="line">manage_dhcp: 0</span><br><span class="line">manage_dns: 0</span><br><span class="line">.....</span><br><span class="line">manage_tftpd: 0</span><br><span class="line">manage_rsync: 0</span><br></pre></td></tr></table></figure><p><strong>配置dhcp服务</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# cp /usr/share/doc/dhcp-4.1.1/dhcpd.conf.sample /etc/dhcp/dhcpd.conf</span><br><span class="line"> </span><br><span class="line">[root@node1 ~]# vim /etc/dhcp/dhcpd.conf</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">subnet 192.168.3.0 netmask 255.255.255.0 &#123;</span><br><span class="line"></span><br><span class="line"> range 192.168.3.10 192.168.3.254;</span><br><span class="line"></span><br><span class="line"> option routers 192.168.3.1;</span><br><span class="line"></span><br><span class="line"> option broadcast-address 192.168.3.31;</span><br><span class="line"></span><br><span class="line"> default-lease-time 3600;</span><br><span class="line"></span><br><span class="line"> max-lease-time 7200;</span><br><span class="line"></span><br><span class="line"> next-server 192.168.3.10;    #指向pxe服务器</span><br><span class="line"></span><br><span class="line"> filename &quot;pxelinux.0&quot;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>检查配置，启动服务</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# service dhcpd configtest</span><br><span class="line">Syntax: OK</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# service dhcpd start</span><br><span class="line">Starting dhcpd:                       [  OK  ]</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# ss -tunl | grep 67</span><br><span class="line">udp   UNCONN   0    0            *:67           *:</span><br></pre></td></tr></table></figure><h3 id="2-3-启动tftp和rsync"><a href="#2-3-启动tftp和rsync" class="headerlink" title="2.3 启动tftp和rsync"></a>2.3 启动tftp和rsync</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# chkconfig tftp on</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# chkconfig rsync on</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# service xinetd start</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# ss -tunl | grep 69</span><br><span class="line">udp   UNCONN   0    0            *:69           *:</span><br></pre></td></tr></table></figure><h3 id="2-4-启动cobbler服务"><a href="#2-4-启动cobbler服务" class="headerlink" title="2.4 启动cobbler服务"></a>2.4 启动cobbler服务</h3><p><strong>在启动cobbler之前首先需要启动httpd服务</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# service httpd start</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# service cobblerd start</span><br></pre></td></tr></table></figure><p>然后使用cobbler check检查cobbler的运行环境，第一次运行可能会存在如下错误（）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# cobbler check</span><br><span class="line"></span><br><span class="line">The following are potential configuration items that you may want to fix:</span><br><span class="line"></span><br><span class="line">1 : The &apos;server&apos; field in /etc/cobbler/settings must be set to something other than localhost, or kickstarting features will not work.  This should be a resolvable hostname or IP for the boot server as reachable by all machines that will use it.</span><br><span class="line"></span><br><span class="line">2 : For PXE to be functional, the &apos;next_server&apos; field in /etc/cobbler/settings must be set to something other than 127.0.0.1, and should match the IP of the boot server on the PXE network.</span><br><span class="line"></span><br><span class="line">3 : some network boot-loaders are missing from /var/lib/cobbler/loaders, you may run &apos;cobbler get-loaders&apos; to download them, or, if you only want to handle x86/x86_64 netbooting, you may ensure that you have installed a *recent* version of the syslinux package installed and can ignore this message entirely.  Files in this directory, should you want to support all architectures, should include pxelinux.0, menu.c32, elilo.efi, and yaboot. The &apos;cobbler get-loaders&apos; command is the easiest way to resolve these requirements.</span><br><span class="line"></span><br><span class="line">4 : debmirror package is not installed, it will be required to manage debian deployments and repositories</span><br><span class="line"></span><br><span class="line">5 : ksvalidator was not found, install pykickstart</span><br><span class="line"></span><br><span class="line">6 : The default password used by the sample templates for newly installed machines (default_password_crypted in /etc/cobbler/settings) is still set to &apos;cobbler&apos; and should be changed, try: &quot;openssl passwd -1 -salt &apos;random-phrase-here&apos; &apos;your-password-here&apos;&quot; to generate new one</span><br><span class="line"></span><br><span class="line">7 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them</span><br><span class="line"></span><br><span class="line">Restart cobblerd and then run &apos;cobbler sync&apos; to apply changes.</span><br></pre></td></tr></table></figure><p><strong>依次解决以上错误</strong></p><h4 id="1-设置server参数为cobbler服务器的IP地址"><a href="#1-设置server参数为cobbler服务器的IP地址" class="headerlink" title="1) 设置server参数为cobbler服务器的IP地址"></a>1) 设置server参数为cobbler服务器的IP地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/cobbler/settings</span><br><span class="line"></span><br><span class="line"># server: 192.168.3.10</span><br></pre></td></tr></table></figure><h4 id="2-设置next-server为pxe服务器的IP地址"><a href="#2-设置next-server为pxe服务器的IP地址" class="headerlink" title="2) 设置next_server为pxe服务器的IP地址"></a>2) 设置next_server为pxe服务器的IP地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/cobbler/settings</span><br><span class="line"></span><br><span class="line"># next_server: 192.168.3.10</span><br></pre></td></tr></table></figure><h4 id="3-若仅为x86-x86-64架构的服务器提供服务，安装syslinux即可"><a href="#3-若仅为x86-x86-64架构的服务器提供服务，安装syslinux即可" class="headerlink" title="3) 若仅为x86/x86_64架构的服务器提供服务，安装syslinux即可"></a>3) 若仅为x86/x86_64架构的服务器提供服务，安装syslinux即可</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install syslinux</span><br></pre></td></tr></table></figure><h4 id="4-这一项可以忽略"><a href="#4-这一项可以忽略" class="headerlink" title="4) 这一项可以忽略"></a>4) 这一项可以忽略</h4><h4 id="5-安装ksvalidator"><a href="#5-安装ksvalidator" class="headerlink" title="5) 安装ksvalidator"></a>5) 安装ksvalidator</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y pykickstart</span><br></pre></td></tr></table></figure><h4 id="6-为default-password-crypted参数设置新密码"><a href="#6-为default-password-crypted参数设置新密码" class="headerlink" title="6) 为default_password_crypted参数设置新密码"></a>6) 为default_password_crypted参数设置新密码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># openssl passwd -1 -salt `openssl rand -hex 6`</span><br><span class="line"></span><br><span class="line"># default_password_crypted: &quot;passwd&quot;</span><br></pre></td></tr></table></figure><h4 id="7-install-cman-or-fence-agents（可不装）"><a href="#7-install-cman-or-fence-agents（可不装）" class="headerlink" title="7) install cman or fence-agents（可不装）"></a>7) install cman or fence-agents（可不装）</h4><h3 id="2-5-修改完成后，重启服务"><a href="#2-5-修改完成后，重启服务" class="headerlink" title="2.5 修改完成后，重启服务"></a>2.5 修改完成后，重启服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# cobbler sync</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# service cobblerd restart</span><br></pre></td></tr></table></figure><h2 id="3、添加distro"><a href="#3、添加distro" class="headerlink" title="3、添加distro"></a>3、添加distro</h2><h3 id="3-1-挂载光盘镜像"><a href="#3-1-挂载光盘镜像" class="headerlink" title="3.1 挂载光盘镜像"></a>3.1 挂载光盘镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# mount /dev/cdrom /mnt/flash/</span><br></pre></td></tr></table></figure><p><strong>添加一个distro（若有光盘镜像，推荐直接导入光盘镜像）</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# cobbler import --name=CentOS-6.5-x86_64 --path=/mnt/flash/</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# cobbler distro list</span><br><span class="line"></span><br><span class="line">centos-6.5-x86_64</span><br></pre></td></tr></table></figure><p>若镜像文件很大，导入过程会很长。导入完成后，在/var/www/cobbler/ks_mirror目录下会生成一个–name指定的名称的目录，这个目录与挂载在本地的光盘镜像目录一致。</p><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%871.png" alt="img"></p><h3 id="3-2-制作kickstart文件"><a href="#3-2-制作kickstart文件" class="headerlink" title="3.2 制作kickstart文件"></a>3.2 制作kickstart文件</h3><p>kickstart文件的制作非常简单。</p><p>首先安装system-config-kickstart</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# yum install system-config-kickstart</span><br></pre></td></tr></table></figure><p>执行system-config-kickstart启用图形界面进行配置（使用xmanager之类的连接程序）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# system-config-kickstart</span><br></pre></td></tr></table></figure><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%872.png" alt="img"></p><p>配置的过程与安装操作系统差不多，按照提示一个一个配置即可。在配置之前需要先挂载光盘镜像，并且将该光盘镜像作为本地的yum源，在Package Selection这一项即会显示该光盘镜像中可安装的软件包。</p><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%873.png" alt="img"></p><p>若配置的是其他版本操作系统的ks文件，将对应的光盘镜像文件作为本地的yum源即可，例如需要为centOS7制作ks文件。</p><p>换成centOS7的ISO文件。</p><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%874.png" alt="img"></p><p>在/etc/yum.repos.d目录下添加本地的repo文件，清理之前的缓存，然后挂载。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS-6 ~]# yum clean all</span><br><span class="line">Loaded plugins: fastestmirror, security</span><br><span class="line">Cleaning repos:</span><br><span class="line">Cleaning up Everything</span><br><span class="line">Cleaning up list of fastest mirrors</span><br><span class="line"></span><br><span class="line">[root@CentOS-6 ~]# mount /dev/cdrom /mnt/flash/</span><br><span class="line">mount: block device /dev/sr0 is write-protected, mounting read-only</span><br><span class="line">############################</span><br></pre></td></tr></table></figure><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%875.png" alt="img"></p><p>Package Selection即为centOS7镜像光盘上的软件包。需要注意的是system-config-kickstart不支持LVM，若需要添加LVM还需要在ks文件中手动进行修改。</p><h3 id="3-3-为distro添加profile"><a href="#3-3-为distro添加profile" class="headerlink" title="3.3 为distro添加profile"></a>3.3 为distro添加profile</h3><p>即为某个distro提供kickstart文件来生成一个特定的系统安装配置。例如为刚才添加的distro（ centos-6.5-x86_64）添加一个kickstart文件。</p><p>首先验证ks文件是否存在语法错误，然后复制到指定目录下添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# ksvalidator ks.cfg</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# cp /root/ks.cfg /var/lib/cobbler/kickstarts/</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# cobbler profile add --name=centos-6.5-base --distro=centos-6.5-x86_64 --kickstart=/var/lib/cobbler/kickstarts/ks.cfg</span><br></pre></td></tr></table></figure><p><strong>添加第二个profile</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# cp /root/ks-mysql.cfg /var/lib/cobbler/kickstarts/</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# cobbler profile add --name=centos-6.5-mysql --distro=centos-6.5-x86_64 --kickstart=/var/lib/cobbler/kickstarts/ks-mysql.cfg</span><br></pre></td></tr></table></figure><p><strong>list查看添加的profile</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 kickstarts]# cobbler profile list</span><br><span class="line"></span><br><span class="line"> centos-6.5-base</span><br><span class="line"></span><br><span class="line"> centos-6.5-mysql</span><br><span class="line"></span><br><span class="line"> centos-6.5-x86_64</span><br></pre></td></tr></table></figure><p>添加完成之后执行cobbler sync，然后就可以使用了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# cobbler sync</span><br></pre></td></tr></table></figure><h2 id="4、测试"><a href="#4、测试" class="headerlink" title="4、测试"></a>4、测试</h2><p><strong>新添加一台虚拟机，不安装操作系统</strong></p><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%876.png" alt="img"></p><p><strong>选择需要的版本，开始安装</strong></p><p><img src="/2017/01/16/cobbler-pi-liang-zhuang-ji/%E5%9B%BE%E7%89%877.png" alt="img"></p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div><div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a><a href="/tags/Cobbler/" rel="tag"><i class="fa fa-tag"></i> Cobbler</a><a href="/tags/%E6%89%B9%E9%87%8F%E8%A3%85%E6%9C%BA/" rel="tag"><i class="fa fa-tag"></i> 批量装机</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/01/13/rsync-fu-wu-bu-shu/" rel="next" title="Rsync服务部署"><i class="fa fa-chevron-left"></i> Rsync服务部署</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/01/20/kickstart-wu-ren-zhi-shou/" rel="prev" title="kickstart 无人值守">kickstart 无人值守<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div class="jiathis_style"><span class="jiathis_txt">分享到：</span> <a class="jiathis_button_fav">收藏夹</a> <a class="jiathis_button_copy">复制网址</a> <a class="jiathis_button_email">邮件</a> <a class="jiathis_button_weixin">微信</a> <a class="jiathis_button_qzone">QQ空间</a> <a class="jiathis_button_tqq">腾讯微博</a> <a class="jiathis_button_douban">豆瓣</a> <a class="jiathis_button_share">一键分享</a> <a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a><a class="jiathis_counter_style"></a></div><script type="text/javascript">var jiathis_config={data_track_clickback:!0,summary:"",shortUrl:!1,hideMore:!1}</script><script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/chen.png" alt="Zhongzhou Chen"><p class="site-author-name" itemprop="name">Zhongzhou Chen</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/%7C%7C%20archive"><span class="site-state-item-count">318</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">84</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">181</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、Cobbler简介"><span class="nav-text">1、Cobbler简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、部署cobbler等服务"><span class="nav-text">2、部署cobbler等服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-安装cobbler"><span class="nav-text">2.1 安装cobbler</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-自行安装dhcp。"><span class="nav-text">2.2 自行安装dhcp。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-启动tftp和rsync"><span class="nav-text">2.3 启动tftp和rsync</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-启动cobbler服务"><span class="nav-text">2.4 启动cobbler服务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-设置server参数为cobbler服务器的IP地址"><span class="nav-text">1) 设置server参数为cobbler服务器的IP地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-设置next-server为pxe服务器的IP地址"><span class="nav-text">2) 设置next_server为pxe服务器的IP地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-若仅为x86-x86-64架构的服务器提供服务，安装syslinux即可"><span class="nav-text">3) 若仅为x86/x86_64架构的服务器提供服务，安装syslinux即可</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-这一项可以忽略"><span class="nav-text">4) 这一项可以忽略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-安装ksvalidator"><span class="nav-text">5) 安装ksvalidator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-为default-password-crypted参数设置新密码"><span class="nav-text">6) 为default_password_crypted参数设置新密码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-install-cman-or-fence-agents（可不装）"><span class="nav-text">7) install cman or fence-agents（可不装）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-修改完成后，重启服务"><span class="nav-text">2.5 修改完成后，重启服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、添加distro"><span class="nav-text">3、添加distro</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-挂载光盘镜像"><span class="nav-text">3.1 挂载光盘镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-制作kickstart文件"><span class="nav-text">3.2 制作kickstart文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-为distro添加profile"><span class="nav-text">3.3 为distro添加profile</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、测试"><span class="nav-text">4、测试</span></a></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Zhongzhou Chen</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">Site words total count&#58;</span> <span title="Site words total count">756k</span></div><span class="post-meta-divider"></span></div></footer></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>$(".highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(t){var e=$(this).parent().find(".code").find(".line").map(function(t,e){return $(e).text()}).toArray().join("\n"),n=document.createElement("textarea");document.body.appendChild(n),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.value=e,n.select(),n.focus();var o=document.execCommand("copy");document.body.removeChild(n),o?$(this).text("复制成功"):$(this).text("复制失败"),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("复制")},300)}).append(e)})</script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,s){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var o=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,n=document.getElementById(e),r=document.getElementById(s);n.addEventListener("input",function(){var y=n.value.trim().toLowerCase(),T=y.split(/[\s\-]+/);1<T.length&&T.push(y);var b=[];if(0<y.length&&o.forEach(function(t){function e(t,e,o,n){for(var r=n[n.length-1],s=r.position,a=r.word,i=[],c=0;s+a.length<=o&&0!=n.length;){a===y&&c++,i.push({position:s,length:a.length});var l=s+a.length;for(n.pop();0!=n.length&&(s=(r=n[n.length-1]).position,a=r.word,s<l);)n.pop()}return h+=c,{hits:i,start:e,end:o,searchTextCount:c}}function o(o,t){var n="",r=t.start;return t.hits.forEach(function(t){n+=o.substring(r,t.position);var e=t.position+t.length;n+='<b class="search-keyword">'+o.substring(t.position,e)+"</b>",r=e}),n+=o.substring(r,t.end)}var n=!1,r=0,h=0,s=t.title.trim(),a=s.toLowerCase(),i=t.content.trim().replace(/<[^>]+>/g,""),c=i.toLowerCase(),l=decodeURIComponent(t.url),p=[],u=[];if(""!=s&&(T.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());-1<(s=e.indexOf(t,r));)a.push({position:s,word:t}),r=s+n;return a}p=p.concat(e(t,a,!1)),u=u.concat(e(t,c,!1))}),(0<p.length||0<u.length)&&(n=!0,r=p.length+u.length)),n){[p,u].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var f=[];0!=p.length&&f.push(e(0,0,s.length,p));for(var d=[];0!=u.length;){var g=u[u.length-1],v=g.position,$=g.word,C=v-20,m=v+80;C<0&&(C=0),m<v+$.length&&(m=v+$.length),m>i.length&&(m=i.length),d.push(e(0,C,m,u))}d.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var x=parseInt("1");0<=x&&(d=d.slice(0,x));var w="";w+=0!=f.length?"<li><a href='"+l+"' class='search-result-title'>"+o(s,f[0])+"</a>":"<li><a href='"+l+"' class='search-result-title'>"+s+"</a>",d.forEach(function(t){w+="<a href='"+l+'\'><p class="search-result">'+o(i,t)+"...</p></a>"}),w+="</li>",b.push({item:w,searchTextCount:h,hitCount:r,id:b.length})}}),1===T.length&&""===T[0])r.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===b.length)r.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{b.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var e='<ul class="search-result-list">';b.forEach(function(t){e+=t.item}),e+="</ul>",r.innerHTML=e}}),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),!1===isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&onPopupClose()})</script><script type="text/javascript" src="/js/src/love.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,log:!1,model:{jsonPath:"/live2dw/assets/shizuku.model.json"},display:{position:"right"},mobile:{show:!0,scale:.2},react:{opacityDefault:.7,opacityOnHover:.2,opacity:.4}})</script></body></html>